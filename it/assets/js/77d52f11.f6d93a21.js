"use strict";(self.webpackChunknethvoice_doc_site=self.webpackChunknethvoice_doc_site||[]).push([[4834],{4160:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"administrator-manual/applications/phonebook_sources","title":"Phonebook sources","description":"The NethVoice phonebook is a centralized directory that stores and manages contact information for users and organizations. It enables seamless name and number resolution for incoming and outgoing calls, ensuring that caller details are consistently available across NethVoice CTI and NethVoice App. The phonebook can aggregate contacts from various sources, including external databases and CSV files, providing a unified and easily accessible address book for all users.","source":"@site/docs/administrator-manual/applications/phonebook_sources.md","sourceDirName":"administrator-manual/applications","slug":"/administrator-manual/applications/phonebook_sources","permalink":"/nethvoice-doc-site/it/docs/administrator-manual/applications/phonebook_sources","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/administrator-manual/applications/phonebook_sources.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Phonebook sources","sidebar_position":2},"sidebar":"administratorManualSidebar","previous":{"title":"Customer cards","permalink":"/nethvoice-doc-site/it/docs/administrator-manual/applications/customer_cards"},"next":{"title":"Parameterized URLs","permalink":"/nethvoice-doc-site/it/docs/administrator-manual/applications/parameterized_url"}}');var r=n(4848),o=n(8453);const i={title:"Phonebook sources",sidebar_position:2},d=void 0,a={},c=[{value:"Adding External Address Books",id:"adding-external-address-books",level:4},{value:"Phonebook Source",id:"phonebook-source",level:4},{value:"Custom Name Resolution",id:"custom-name-resolution",level:4},{value:"Settings",id:"settings",level:4}];function l(e){const s={a:"a",code:"code",em:"em",h4:"h4",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:"The NethVoice phonebook is a centralized directory that stores and manages contact information for users and organizations. It enables seamless name and number resolution for incoming and outgoing calls, ensuring that caller details are consistently available across NethVoice CTI and NethVoice App. The phonebook can aggregate contacts from various sources, including external databases and CSV files, providing a unified and easily accessible address book for all users."}),"\n",(0,r.jsx)(s.h4,{id:"adding-external-address-books",children:"Adding External Address Books"}),"\n",(0,r.jsxs)(s.p,{children:["From the menu ",(0,r.jsx)(s.code,{children:"Applications -> Address Book Sources"}),", you can define an external source for the contacts NethVoice should use to resolve incoming and outgoing calls.\nThese contacts will be added to the NethVoice address book and made available for use in NethVoice CTI and NethVoice App."]}),"\n",(0,r.jsx)(s.p,{children:"To configure a new source, three steps are required:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Source"}),": Configure access to the source database of contacts."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Mapping"}),": Associate fields from the source database with those of the NethVoice address book."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Settings"}),": Choose the synchronization interval."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"phonebook-source",children:"Phonebook Source"}),"\n",(0,r.jsxs)(s.p,{children:["A unique ",(0,r.jsx)(s.code,{children:"Phonebook Name"})," must be assigned to the source to distinguish the origin of the contacts imported into the NethVoice phonebook."]}),"\n",(0,r.jsxs)(s.p,{children:["Based on the ",(0,r.jsx)(s.code,{children:"Source Type"}),", additional attributes need to be specified:"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"MySQL"})}),"\n",(0,r.jsx)(s.p,{children:"Database name, server address/port, username, and password for the source database are required."}),"\n",(0,r.jsxs)(s.p,{children:["Additionally, in the Select query text area, the SQL query used to retrieve data to be imported into the centralized address book must be inserted. If present in the text area, replace the word ",(0,r.jsx)(s.code,{children:"[table]"})," with the name of the source table."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"CSV"})}),"\n",(0,r.jsxs)(s.p,{children:["In the ",(0,r.jsx)(s.code,{children:"URL"}),' field, you can specify the web address of a file in CSV format (Comma-Separated Values, values separated by commas and double quotes "" as text qualifiers, mandatory if the field contains a comma or space). Addresses starting with ',(0,r.jsx)(s.code,{children:"http://"})," and ",(0,r.jsx)(s.code,{children:"https://"})," are accepted."]}),"\n",(0,r.jsxs)(s.p,{children:["Alternatively, you can upload a CSV file via the button to the right of the same text field. In this case, the ",(0,r.jsx)(s.code,{children:"URL"})," field will be automatically populated."]}),"\n",(0,r.jsx)(s.p,{children:"The CSV file must be encoded in UTF-8 and contain column names on the first row."}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"Verify"})," button allows you to preview the data retrieved from the source."]}),"\n",(0,r.jsx)(s.h4,{id:"custom-name-resolution",children:"Custom Name Resolution"}),"\n",(0,r.jsxs)(s.p,{children:["If you wish to use a source other than the centralized address book to resolve names, you can create a custom resolution script and place it in the ",(0,r.jsx)(s.em,{children:"~/.local/share/containers/storage/volumes/lookup.d/_data/"})," directory."]}),"\n",(0,r.jsxs)(s.p,{children:["In the ",(0,r.jsx)(s.a,{href:"https://github.com/nethesis/ns8-nethvoice/tree/main/freepbx/usr/src/nethvoice/samples",children:"Github repository"}),", there are two example scripts: ",(0,r.jsx)(s.em,{children:"lookup_dummy.php"})," and ",(0,r.jsx)(s.em,{children:"lookup_vte.php"}),", which can serve as a starting point for creating your own custom script."]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.em,{children:"lookup_dummy.php"})," script returns a fake result for any number dialed or incoming call, while the lookup_vte.php script utilizes an external API."]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Field"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"owner_id"}),(0,r.jsx)(s.td,{children:"Owner of the contact"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"type"}),(0,r.jsx)(s.td,{children:"Source of origin"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"homeemail"}),(0,r.jsx)(s.td,{children:"Home email address"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"workemail"}),(0,r.jsx)(s.td,{children:"Work email address"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"homephone"}),(0,r.jsx)(s.td,{children:"Home phone number"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"workphone"}),(0,r.jsx)(s.td,{children:"Work phone number"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"cellphone"}),(0,r.jsx)(s.td,{children:"Cell phone number"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"fax"}),(0,r.jsx)(s.td,{children:"Fax number"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"title"}),(0,r.jsx)(s.td,{children:"Job title"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"company"}),(0,r.jsx)(s.td,{children:"Company"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"notes"}),(0,r.jsx)(s.td,{children:"Notes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"name"}),(0,r.jsx)(s.td,{children:"First and last name"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"homestreet"}),(0,r.jsx)(s.td,{children:"Home address"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"homepob"}),(0,r.jsx)(s.td,{children:"Home PO Box"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"homecity"}),(0,r.jsx)(s.td,{children:"Home city"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"homeprovince"}),(0,r.jsx)(s.td,{children:"Home province"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"homepostalcode"}),(0,r.jsx)(s.td,{children:"Home postal code"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"homecountry"}),(0,r.jsx)(s.td,{children:"Home country/region"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"workstreet"}),(0,r.jsx)(s.td,{children:"Work address"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"workpob"}),(0,r.jsx)(s.td,{children:"Work PO Box"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"workcity"}),(0,r.jsx)(s.td,{children:"Work city"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"workprovince"}),(0,r.jsx)(s.td,{children:"Work province"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"workpostalcode"}),(0,r.jsx)(s.td,{children:"Work postal code"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"workcountry"}),(0,r.jsx)(s.td,{children:"Work country/region"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"url"}),(0,r.jsx)(s.td,{children:"Website address"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"settings",children:"Settings"}),"\n",(0,r.jsx)(s.p,{children:"You can choose the synchronization interval for contacts between:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"15 minutes"}),"\n",(0,r.jsx)(s.li,{children:"30 minutes"}),"\n",(0,r.jsx)(s.li,{children:"1 hour"}),"\n",(0,r.jsx)(s.li,{children:"6 hours"}),"\n",(0,r.jsx)(s.li,{children:"24 hours"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Once the source is created, you can:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Immediately synchronize using the ",(0,r.jsx)(s.code,{children:"Sync"})," button"]}),"\n",(0,r.jsx)(s.li,{children:"Enable/disable synchronization"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>d});var t=n(6540);const r={},o=t.createContext(r);function i(e){const s=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(o.Provider,{value:s},e.children)}}}]);